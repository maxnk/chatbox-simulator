import {FakeGenerator} from '../fake-generator';
import {Scenario} from './scenario';
import {subMinutes} from 'date-fns';

export class CalmDownScenario extends Scenario {
    public static NAME = '–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ';

    constructor() {
        super();

        let chatboxData = FakeGenerator.initialChatboxData();

        let chat = chatboxData.chats.find(chat => !chat.isGroup());
        chat!.messages = [];
        let user = chat?.users.find(user => user.id !== chatboxData.currentUser.id);

        const currentTime = new Date();

        this.builder
            .init(chatboxData)
                .incomingMessage(chat!, FakeGenerator.textMessage(user!)
                    .withDateTime(subMinutes(currentTime, 15))
                    .withText('–ø—Ä–∏–≤–µ—Ç, —è git push --force —Å–¥–µ–ª–∞–ª –∏ –ø–æ–ª—Ä–µ–ø—ã –∫—É–¥–∞-—Ç–æ –ø—Ä–æ–ø–∞–ª–æ üò≤'))
            .wait(3000)
                .writeMessage('–ö–∞–∫–æ–≥–æ —Ö', 300)
            .wait(500)
                .eraseMessage(100)
            .wait(1000)
                .writeMessage('–°–µ—Ä—å—ë–∑–Ω–æ??? –ß–µ–º—É –≤–∞—Å —É—á–∞—Ç, –∫—Ç–æ —Ç–µ–±–µ –ø—Ä–æ force push —Ä–∞—Å—Å–∫–∞–∑–∞–ª?', 100)
            .wait(3000)
                .incomingMessage(chat!, FakeGenerator.textMessage(user!)
                    .withDateTime(subMinutes(currentTime, 10))
                    .withText('–ª–∞–¥–Ω–æ, –ø–æ–π–¥—É –ø–æ–µ–º, –ø–æ–∫–∞ —Ç—ã –ø–∏—à–µ—à—å'))
            .wait(2000)
                .eraseMessage(30)
            .wait(1000)
                .writeMessage('–¢—ã, –º–æ–π –¥—Ä—É–≥, –ø–æ–¥–æ–π–¥–∏ —Å—é–¥–∞, –Ω–µ–≥–æ–¥–Ω–∏–∫, –∞? –ß—Ç–æ, –≤–¥—Ä—É–≥ —Ä–µ—à–∏–ª –∫–æ –º–Ω–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è? ' +
                    '–ü–æ–¥–æ–π–¥–∏, –≥–ª—É–ø–µ—Ü, –ø–æ–∫–∞–∂—É —Ç–µ–±–µ –∏ –≤—Å–µ–π —Ç–≤–æ–µ–π —Å–µ–º—å–µ! –ù–µ–ø—Ä–∏—è—Ç–Ω—ã–π —á–µ–ª–æ–≤–µ–∫, –Ω–µ–æ—Ç–µ—Å–∞–Ω–Ω—ã–π –º–∞–ª–æ–≥—Ä–∞–º–æ—Ç–Ω—ã–π, –ø—Ä–µ–Ω–µ–±—Ä–µ–∂–∏—Ç–µ–ª—å, –±–µ–∑–æ–±—Ä–∞–∑–Ω–∏–∫! ' +
                    '–ü–æ–¥–æ–π–¥–∏ —Å—é–¥–∞, –Ω–µ–¥–æ–±—Ä—ã–π —á–µ–ª–æ–≤–µ–∫, –ø–æ–¥–ª–µ—Ü, –Ω–µ–≥–æ–¥–Ω–∏–∫! ' +
                    '–ü–æ–¥–æ–π–¥–∏ —Å—é–¥–∞, —Ç—ã, –Ω–µ—É–¥–∞—á–Ω–∏–∫, –Ω–µ—Å—á–∞—Å—Ç–Ω—ã–π!', 50)
                // .writeMessage('–û, –±–ª–∞–≥–æ—Ä–æ–¥–Ω—ã–π —á–µ–ª–æ–≤–µ–∫, –ø—Ä–∏–±–ª–∏–∑—å—Å—è –∫–æ –º–Ω–µ, –¥–∞–±—ã –æ–±–º–µ–Ω—è—Ç—å—Å—è —Å–ª–æ–≤–∞–º–∏! ' +
                //     '–°–∫–∞–∂–∏, –≤–Ω–µ–∑–∞–ø–Ω–æ —Ä–µ—à–∏–ª –∫–æ –º–Ω–µ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å —Å–≤–æ–π –≤–∑–æ—Ä? –¢—ã, –≥–æ—Å–ø–æ–¥–∏–Ω —Å –∏–∑–±—ã—Ç–æ—á–Ω–æ–π –≥–æ—Ä–¥–æ—Å—Ç—å—é, –∫ –º–∞—Ç–µ—Ä–∏ —Ç–≤–æ–µ–π –æ–±—Ä–∞—â–∞—é—Å—å! ' +
                //     '–ù—É –∂–µ, –ø–æ–¥–æ–π–¥–∏ —Å–º–µ–ª–µ–µ, –æ—Å–º–µ–ª–∏—Å—å –∂–µ —Å—Ç–æ–ª–∫–Ω—É—Ç—å—Å—è —Å–æ –º–Ω–æ–π, –∞ —è —Å–º–æ–≥—É –æ–±—Ä–∞—Ç–∏—Ç—å —Ç–µ–±—è –Ω–∞ –ø—É—Ç—å –∏—Å—Ç–∏–Ω–Ω—ã–π, –∏–±–æ —Ç—ã –∑–∞–±–ª—É–¥–∏–ª—Å—è, —É–≤—ã! ' +
                //     '–ü—Ä–æ—à—É, –ø—Ä–∏–±–ª–∏–∂–∞–π—Å—è, –æ –≥–ª—É–ø–µ—Ü, –ø—É—Å—Ç—å –∑–Ω–∞–Ω–∏—è —Ç–≤–æ–∏ –∏ —Å–µ–º—å–∏ —Ç–≤–æ–µ–π –ø–æ–ø–æ–ª–Ω—è—Ç—Å—è, –≤–µ–¥—å —Ç—ã, –º–æ–π –¥—Ä—É–≥, —Å–µ–π—á–∞—Å —Å—Ç–æ–ª—å –¥–∞–ª–µ–∫ –æ—Ç –∏—Å—Ç–∏–Ω—ã –∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–≥–æ! ' +
                //     '–í–∑—ã–≤–∞—é –∫ —Ç–µ–±–µ, –æ–±—Ä–∞—Ç–∏ —Å–≤–æ–π –≤–∑–æ—Ä –Ω–∞ –º–µ–Ω—è, –æ –∑–∞–±–ª—É–¥—à–∏–π, –æ –ø–æ–∫–∏–Ω—É—Ç—ã–π –¥–æ–±—Ä–æ–¥–µ—Ç–µ–ª—å—é, –∏–±–æ —è –≤–∏–∂—É –≤ —Ç–µ–±–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω!', 50)
            .wait(1000)
                .eraseMessage(5)
            .wait(1000)
                .writeMessage('–£—Ñ—Ñ, —ç—Ç–æ –ø–æ–ø—Ä–∞–≤–∏–º–æ, –Ω–æ –Ω–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–µ—Ä—å—ë–∑–Ω–æ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å –æ –∫—É–ª—å—Ç—É—Ä–µ —Ä–∞–±–æ—Ç—ã —Å git', 50)
            .wait(500)
                .sendMessage(chat!);
    }
}
